import"./vue@3.2.47-e9f0a81f.js";import{d as e,s as t}from"./pinia@2.0.33_typescript@5.0.4_vue@3.2.47-7bcd43e3.js";import{u as a,m as l}from"./indexAsync-961ea579.js";import{d as n,Z as o,o as s,c as i,e as u,M as r,L as c,Q as m,E as d,a as p,F as f,n as _,N as v,y as b,x as h,h as w,X as k,O as g,H as y,D as M,P as x,a3 as C,am as A,al as L}from"./@vue_runtime-core@3.2.47-3393fa3b.js";import{_ as T,r as F,p as N,H as j,b as S,u as W}from"./index-753c28bf.js";import{S as D}from"./sortablejs@1.15.0-c3bad686.js";import{b as I,u as R}from"./vue-router@4.1.6_vue@3.2.47-c507d381.js";import{R as P,u as z,s as K}from"./@vue_shared@3.2.47-699fd3ac.js";import{v as V,T as B,w as E}from"./@vue_runtime-dom@3.2.47-bb459063.js";import{c as H,u as $,i as G}from"./@vue_reactivity@3.2.47-71c1ef0d.js";import{m as O}from"./@vueuse_shared@9.13.0_vue@3.2.47-5955aa86.js";import{u as U}from"./vue-i18n@9.2.2_vue@3.2.47-b5a03d27.js";import{M as q}from"./@element-plus_icons-vue@2.1.0_vue@3.2.47-fb97c814.js";import{i as Q}from"./@vueuse_core@9.13.0_vue@3.2.47-68996be2.js";import{_ as X}from"./logo-05fb951c.js";import{q as Y}from"./vite-plugin-qiankun@1.0.15_typescript@5.0.4_vite@4.3.9-f25e2b71.js";import{b as Z,c as J}from"./element-plus@2.3.3_vue@3.2.47-b480741b.js";const ee=e({id:"wocwin-keepAlive",state:()=>({keepAliveName:[]}),actions:{
// Add KeepAliveName
async addKeepAliveName(e){!this.keepAliveName.includes(e)&&this.keepAliveName.push(e)},
// Remove KeepAliveName
async removeKeepAliveName(e){this.keepAliveName=this.keepAliveName.filter((t=>t!==e))},
// Set KeepAliveName
async setKeepAliveName(e=[]){this.keepAliveName=e}}}),te=T(n({__name:"Maximize",setup(e){const t=a(),l=()=>{t.setGlobalState("maximize",!1)};return(e,t)=>{const a=o("Close"),n=o("el-icon");return s(),i("div",{class:"maximize",onClick:l},[u(n,null,{default:r((()=>[u(a)])),_:1})])}}}),[["__scopeId","data-v-8dbb9c05"],["__file","F:/Wrok/Me/wocwin-admin/src/layout/components/Main/components/Maximize.vue"]]),ae=e({id:"wocwin-tabs",state:()=>({tabsMenuList:[]}),actions:{
// Add Tabs
async addTabs(e){this.tabsMenuList.every((t=>t.path!==e.path))&&this.tabsMenuList.push(e)},
// Remove Tabs
async removeTabs(e,t=!0){const a=this.tabsMenuList;t&&a.forEach(((t,l)=>{if(t.path!==e)return;const n=a[l+1]||a[l-1];n&&F.push(n.path)})),this.tabsMenuList=a.filter((t=>t.path!==e))},
// Close MultipleTab
async closeMultipleTab(e){this.tabsMenuList=this.tabsMenuList.filter((t=>t.path===e||!t.close))},
// Set Tabs
async setTabs(e){this.tabsMenuList=e},
// Set Tabs Title
async setTabsTitle(e){const t=location.hash.substring(1);this.tabsMenuList.forEach((a=>{a.path==t&&(a.title=e)}))}},persist:N("wocwin-tabs")}),le=T(n({__name:"MoreButton",setup(e){const t=I(),a=R(),l=ae(),n=ee(),i=()=>{t.meta.isAffix||(l.removeTabs(t.fullPath),n.removeKeepAliveName(t.name))},d=()=>{l.closeMultipleTab(t.fullPath),n.setKeepAliveName([t.name])},p=()=>{l.closeMultipleTab(),n.setKeepAliveName(),a.push(j)};return(e,t)=>{const a=o("ArrowDown"),l=o("el-icon"),n=o("Remove"),f=o("el-dropdown-item"),_=o("CircleClose"),v=o("FolderDelete"),b=o("el-dropdown-menu"),h=o("el-dropdown");return s(),c(h,{trigger:"click",teleported:!1},{dropdown:r((()=>[u(b,null,{default:r((()=>[u(f,{onClick:i},{default:r((()=>[u(l,null,{default:r((()=>[u(n)])),_:1}),m(P(e.$t("tabs.closeCurrent")),1)])),_:1}),u(f,{onClick:d},{default:r((()=>[u(l,null,{default:r((()=>[u(_)])),_:1}),m(P(e.$t("tabs.closeOther")),1)])),_:1}),u(f,{onClick:p},{default:r((()=>[u(l,null,{default:r((()=>[u(v)])),_:1}),m(P(e.$t("tabs.closeAll")),1)])),_:1})])),_:1})])),default:r((()=>[u(l,null,{default:r((()=>[u(a)])),_:1})])),_:1})}}}),[["__file","F:/Wrok/Me/wocwin-admin/src/layout/components/Tabs/components/MoreButton.vue"]]),ne=T(n({__name:"Refresh",setup(e){const t=I(),a=ee(),l=d("refresh"),n=()=>{setTimeout((()=>{a.removeKeepAliveName(t.name),l(!1),_((()=>{a.addKeepAliveName(t.name),l(!0)}))}),0)};return(e,t)=>{const a=o("el-divider"),l=o("Refresh",!0),c=o("el-icon"),m=o("el-tooltip");return s(),i(f,null,[u(a,{direction:"vertical"}),p("div",{onClick:n,class:"tabs_icon"},[u(m,{effect:"dark",content:e.$t("tabs.refresh"),placement:"bottom"},{default:r((()=>[u(c,null,{default:r((()=>[u(l)])),_:1})])),_:1},8,["content"])]),u(a,{direction:"vertical"})],64)}}}),[["__file","F:/Wrok/Me/wocwin-admin/src/layout/components/Tabs/components/Refresh.vue"]]),oe=T(n({__name:"Maximize",setup(e){const t=a(),l=()=>{t.setGlobalState("maximize",!0)};return(e,t)=>{const a=o("el-divider"),n=o("FullScreen"),c=o("el-icon"),m=o("el-tooltip");return s(),i(f,null,[u(a,{direction:"vertical"}),p("div",{onClick:l,class:"tabs_icon"},[u(m,{effect:"dark",content:e.$t("tabs.maximize"),placement:"bottom"},{default:r((()=>[u(c,null,{default:r((()=>[u(n)])),_:1})])),_:1},8,["content"])])],64)}}}),[["__file","F:/Wrok/Me/wocwin-admin/src/layout/components/Tabs/components/Maximize.vue"]]),se=T(n({__name:"Contextmenu",props:{visible:{type:Boolean,required:!1},top:{type:Number,default:0},left:{type:Number,default:0}},setup(e){const t=I(),a=R(),l=ae(),n=ee(),c=()=>{t.meta.isAffix||(l.removeTabs(t.fullPath),n.removeKeepAliveName(t.name))},d=()=>{l.closeMultipleTab(t.fullPath),n.setKeepAliveName([t.name])},f=()=>{l.closeMultipleTab(),n.setKeepAliveName(),a.push(j)};return(t,a)=>{const l=o("Remove"),n=o("el-icon"),_=o("CircleClose"),b=o("FolderDelete");return v((s(),i("ul",{style:z({left:e.left+"px",top:e.top+"px"}),class:"contextmenu"},[p("li",{onClick:c},[u(n,null,{default:r((()=>[u(l)])),_:1}),m(P(t.$t("tabs.closeCurrent")),1)]),p("li",{onClick:d},[u(n,null,{default:r((()=>[u(_)])),_:1}),m(P(t.$t("tabs.closeOther")),1)]),p("li",{onClick:f},[u(n,null,{default:r((()=>[u(b)])),_:1}),m(P(t.$t("tabs.closeAll")),1)])],4)),[[V,e.visible]])}}}),[["__file","F:/Wrok/Me/wocwin-admin/src/layout/components/Tabs/components/Contextmenu.vue"]]),ie={class:"tabs-box"},ue={class:"tabs-menu"},re={class:"right-tag"},ce=T(n({__name:"index",setup(e){const t=I(),l=R(),n=ae(),d=S(),_=a(),y=ee(),M=H(t.fullPath),x=b((()=>n.tabsMenuList)),C=b((()=>_.tabsIcon)),A=H(!1),L=H(0),T=H(0),F=()=>{A.value=!1};h(A,(e=>{e?document.body.addEventListener("click",F):document.body.removeEventListener("click",F)})),w((()=>{N(),j()})),h((()=>t.fullPath),(()=>{if(t.meta.isFull)return;M.value=t.fullPath;const e={icon:t.meta.icon,title:t.meta.title,path:t.fullPath,name:t.name,close:!t.meta.isAffix};n.addTabs(e),t.meta.isKeepAlive&&y.addKeepAliveName(t.name)}),{immediate:!0});const N=()=>{D.create(document.querySelector(".el-tabs__nav"),{draggable:".el-tabs__item",animation:300,onEnd({newIndex:e,oldIndex:t}){const a=[...n.tabsMenuList],l=a.splice(t,1)[0];a.splice(e,0,l),n.setTabs(a)}})},j=()=>{d.flatMenuListGet.forEach((e=>{if(e.meta.isAffix&&!e.meta.isHide&&!e.meta.isFull){const t={icon:e.meta.icon,title:e.meta.title,path:e.path,name:e.name,close:!e.meta.isAffix};n.addTabs(t)}}))},W=e=>{const t=e.props.name;l.push(t)},z=e=>{const a=n.tabsMenuList.filter((t=>t.path==e))[0].name||"";y.removeKeepAliveName(a),n.removeTabs(e,e==t.fullPath)};return(e,t)=>{const a=o("el-icon"),l=o("el-tab-pane"),n=o("el-tabs");return s(),i("div",ie,[p("div",ue,[u(n,{modelValue:$(M),"onUpdate:modelValue":t[0]||(t[0]=e=>G(M)?M.value=e:null),type:"card",onTabClick:W,onContextmenu:t[1]||(t[1]=e=>(e=>{e.preventDefault();const{clientX:t,clientY:a}=e;T.value=t,L.value=a+5,x.value.length<2?A.value=!1:A.value=!0})(e)),onTabRemove:z},{default:r((()=>[(s(!0),i(f,null,k($(x),(e=>(s(),c(l,{key:e.path,label:e.title,name:e.path,closable:e.close},{label:r((()=>[v(u(a,{class:"tabs-icon"},{default:r((()=>[(s(),c(g(e.icon)))])),_:2},1536),[[V,e.icon&&$(C)]]),m(" "+P(e.title),1)])),_:2},1032,["label","name","closable"])))),128))])),_:1},8,["modelValue"]),p("div",re,[u(ne),u(le,{class:"tabs_icon"}),u(oe)])]),u(se,{visible:$(A),left:$(T),top:$(L)},null,8,["visible","left","top"])])}}}),[["__scopeId","data-v-50fd4995"],["__file","F:/Wrok/Me/wocwin-admin/src/layout/components/Tabs/index.vue"]]),me=T(n({__name:"index",setup(e){const l=a(),{maximize:n,isCollapse:m,layout:d,tabs:p}=t(l),_=ee(),{keepAliveName:v}=t(_),b=H(!0);y("refresh",(e=>b.value=e)),h((()=>n.value),(()=>{const e=document.getElementById("app");n.value?e.classList.add("main-maximize"):e.classList.remove("main-maximize")}),{immediate:!0}),h((()=>d.value),(()=>{document.body.setAttribute("class",d.value)}),{immediate:!0});const w=H(0),k=O((()=>{w.value=document.body.clientWidth,!m.value&&w.value<1200&&l.setGlobalState("isCollapse",!0),m.value&&w.value>1200&&l.setGlobalState("isCollapse",!1)}),100);return window.addEventListener("resize",k,!1),M((()=>{window.removeEventListener("resize",k)})),(e,t)=>{const a=o("router-view"),l=o("el-main");return s(),i(f,null,[$(n)?(s(),c(te,{key:0})):x("",!0),$(p)?(s(),c(ce,{key:1})):x("",!0),u(l,null,{default:r((()=>[u(a,null,{default:r((({Component:e,route:t})=>[u(B,{appear:"",name:"fade-transform",mode:"out-in"},{default:r((()=>[(s(),c(C,{include:$(v)},[b.value?(s(),c(g(e),{key:t.fullPath})):x("",!0)],1032,["include"]))])),_:2},1024)])),_:1})])),_:1})],64)}}}),[["__scopeId","data-v-abb6a809"],["__file","F:/Wrok/Me/wocwin-admin/src/layout/components/Main/index.vue"]]),de=T(n({__name:"Language",setup(e){const t=U(),l=a(),n=b((()=>l.language)),d=[{label:"简体中文",value:"zh"},{label:"English",value:"en"}],_=e=>{t.locale.value=e,l.setGlobalState("language",e)};return(e,t)=>{const a=o("el-dropdown-item"),l=o("el-dropdown-menu"),v=o("el-dropdown");return s(),c(v,{trigger:"click",onCommand:_},{dropdown:r((()=>[u(l,null,{default:r((()=>[(s(),i(f,null,k(d,(e=>u(a,{key:e.value,command:e.value,disabled:$(n)===e.value},{default:r((()=>[m(P(e.label),1)])),_:2},1032,["command","disabled"]))),64))])),_:1})])),default:r((()=>[p("i",{class:K(["iconfont icon-zhongyingwen","toolBar-icon"])})])),_:1})}}}),[["__file","F:/Wrok/Me/wocwin-admin/src/layout/components/Header/components/Language.vue"]]),pe={class:"menu-search-dialog"},fe=T(n({__name:"SearchMenu",setup(e){const t=R(),a=S(),l=b((()=>a.flatMenuListGet.filter((e=>!e.meta.isHide)))),n=(e,t)=>{t(e?l.value.filter(w(e)):l.value)},m=H(!1),d=H(),f=H(""),v=()=>{m.value=!0,_((()=>{setTimeout((()=>{d.value.focus()}))}))},h=()=>{m.value=!1},w=e=>t=>t.path.toLowerCase().indexOf(e.toLowerCase())>-1||t.meta.title.toLowerCase().indexOf(e.toLowerCase())>-1,k=e=>{f.value="",e.meta.isLink?window.open(e.meta.isLink,"_blank"):t.push(e.path),h()};return(e,t)=>{const a=o("el-icon"),l=o("el-autocomplete"),_=o("el-dialog");return s(),i("div",pe,[p("i",{onClick:v,class:K(["iconfont icon-search","toolBar-icon"])}),u(_,{modelValue:m.value,"onUpdate:modelValue":t[2]||(t[2]=e=>m.value=e),"destroy-on-close":"",modal:!1,"show-close":!1,fullscreen:"",onClick:h},{default:r((()=>[u(l,{modelValue:f.value,"onUpdate:modelValue":t[0]||(t[0]=e=>f.value=e),ref_key:"menuInputRef",ref:d,"value-key":"path",placeholder:"菜单搜索 ：支持菜单名称、路径","fetch-suggestions":n,onSelect:k,onClick:t[1]||(t[1]=E((()=>{}),["stop"]))},{prefix:r((()=>[u(a,null,{default:r((()=>[u($(q))])),_:1})])),default:r((({item:e})=>[u(a,null,{default:r((()=>[(s(),c(g(e.meta.icon)))])),_:2},1024),p("span",null,P(e.meta.title),1)])),_:1},8,["modelValue"])])),_:1},8,["modelValue"])])}}}),[["__scopeId","data-v-05a650e8"],["__file","F:/Wrok/Me/wocwin-admin/src/layout/components/Header/components/SearchMenu.vue"]]),_e={class:"theme-setting",style:{cursor:"pointer"}},ve=T(n({__name:"ThemeSetting",setup(e){const t=()=>{l.emit("openThemeDrawer")};return(e,a)=>(s(),i("div",_e,[p("i",{class:K(["iconfont icon-theme","toolBar-icon"]),onClick:t})]))}}),[["__file","F:/Wrok/Me/wocwin-admin/src/layout/components/Header/components/ThemeSetting.vue"]]),be={class:"fullscreen icon_full"},he=T(n({__name:"Fullscreen",setup(e){const{toggle:t,isFullscreen:a}=Q();return(e,l)=>(s(),i("div",be,[p("i",{class:K([["iconfont",$(a)?"icon-exitfullscreen":"icon-fullscreen"],"toolBar-icon"]),onClick:l[0]||(l[0]=//@ts-ignore
(...e)=>$(t)&&$(t)(...e))},null,2)]))}}),[["__scopeId","data-v-5980e045"],["__file","F:/Wrok/Me/wocwin-admin/src/layout/components/Header/components/Fullscreen.vue"]]),we=p("span",null,"This is userInfo",-1),ke={class:"dialog-footer"},ge=T(n({__name:"InfoDialog",setup(e,{expose:t}){const a=H(!1);return t({openDialog:()=>{a.value=!0}}),(e,t)=>{const l=o("el-button"),n=o("el-dialog");return s(),c(n,{modelValue:a.value,"onUpdate:modelValue":t[2]||(t[2]=e=>a.value=e),title:"个人信息",width:"500px",draggable:""},{footer:r((()=>[p("span",ke,[u(l,{onClick:t[0]||(t[0]=e=>a.value=!1)},{default:r((()=>[m("取消")])),_:1}),u(l,{type:"primary",onClick:t[1]||(t[1]=e=>a.value=!1)},{default:r((()=>[m("确认")])),_:1})])])),default:r((()=>[we])),_:1},8,["modelValue"])}}}),[["__file","F:/Wrok/Me/wocwin-admin/src/layout/components/Header/components/InfoDialog.vue"]]),ye=p("span",null,"This is Password",-1),Me={class:"dialog-footer"},xe=T(n({__name:"PasswordDialog",setup(e,{expose:t}){const a=H(!1);return t({openDialog:()=>{a.value=!0}}),(e,t)=>{const l=o("el-button"),n=o("el-dialog");return s(),c(n,{modelValue:a.value,"onUpdate:modelValue":t[2]||(t[2]=e=>a.value=e),title:"修改密码",width:"500px",draggable:""},{footer:r((()=>[p("span",Me,[u(l,{onClick:t[0]||(t[0]=e=>a.value=!1)},{default:r((()=>[m("取消")])),_:1}),u(l,{type:"primary",onClick:t[1]||(t[1]=e=>a.value=!1)},{default:r((()=>[m("确认")])),_:1})])])),default:r((()=>[ye])),_:1},8,["modelValue"])}}}),[["__file","F:/Wrok/Me/wocwin-admin/src/layout/components/Header/components/PasswordDialog.vue"]]),Ce=e=>(A("data-v-256196a7"),e=e(),L(),e),Ae=Ce((()=>p("div",{class:"avatar"},[
p("img",{src:X,alt:"avatar"})],-1))),Le=Ce((()=>p("a",{href:"https://wocwin.github.io/t-ui/",target:"_blank"},"vue2基础组件文档",-1))),Te=Ce((()=>p("a",{href:"https://wocwin.github.io/t-ui-plus/",target:"_blank"},"vue3基础组件文档",-1))),Fe=T(n({__name:"Avatar",setup(e){const t=W(),a=()=>{Z.confirm("您是否确认退出登录?","温馨提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((async()=>{t.FedLogOut(),window.location.href=Y.__POWERED_BY_QIANKUN__?"/wocwin-qiankun/":"/wocwin-admin/",J.success("退出登录成功！")}))},l=H(null),n=H(null),c=e=>{var t,a;"infoRef"==e&&(null==(t=l.value)||t.openDialog()),"passwordRef"==e&&(null==(a=n.value)||a.openDialog())};return(e,t)=>{const d=o("User"),p=o("el-icon"),_=o("el-dropdown-item"),v=o("Edit"),b=o("Memo"),h=o("SwitchButton"),w=o("el-dropdown-menu"),k=o("el-dropdown");return s(),i(f,null,[u(k,{trigger:"click"},{dropdown:r((()=>[u(w,{class:"user_info"},{default:r((()=>[u(_,{onClick:t[0]||(t[0]=e=>c("infoRef"))},{default:r((()=>[u(p,null,{default:r((()=>[u(d)])),_:1}),m(" "+P(e.$t("header.personalData")),1)])),_:1}),u(_,{onClick:t[1]||(t[1]=e=>c("passwordRef"))},{default:r((()=>[u(p,null,{default:r((()=>[u(v)])),_:1}),m(" "+P(e.$t("header.changePassword")),1)])),_:1}),u(_,null,{default:r((()=>[u(p,null,{default:r((()=>[u(b)])),_:1}),Le])),_:1}),u(_,null,{default:r((()=>[u(p,null,{default:r((()=>[u(b)])),_:1}),Te])),_:1}),u(_,{onClick:a,divided:""},{default:r((()=>[u(p,null,{default:r((()=>[u(h)])),_:1}),m(" "+P(e.$t("header.logout")),1)])),_:1})])),_:1})])),default:r((()=>[Ae])),_:1}),u(ge,{ref_key:"infoRef",ref:l},null,512),u(xe,{ref_key:"passwordRef",ref:n},null,512)],64)}}}),[["__scopeId","data-v-256196a7"],["__file","F:/Wrok/Me/wocwin-admin/src/layout/components/Header/components/Avatar.vue"]]),Ne={class:"tool-bar-ri"},je={class:"header-icon"},Se={class:"username"},We=T(n({__name:"ToolBarRight",setup(e){const t=W(),a=b((()=>t.name||"wocwin"));return(e,t)=>{const l=o("el-tooltip");return s(),i("div",Ne,[p("div",je,[u(de,{id:"language"}),u(fe,{id:"searchMenu"}),u(l,{content:"主题切换",effect:"dark",placement:"bottom"},{default:r((()=>[u(ve,{id:"themeSetting"})])),_:1}),u(l,{content:"全屏预览",effect:"dark",placement:"bottom"},{default:r((()=>[u(he,{id:"fullscreen"})])),_:1})]),p("span",Se,P($(a)),1),u(Fe)])}}}),[["__scopeId","data-v-cf7ffece"],["__file","F:/Wrok/Me/wocwin-admin/src/layout/components/Header/ToolBarRight.vue"]]),De={class:"sle"},Ie={class:"sle"},Re=T(n({__name:"SubMenu",props:{menuList:{type:Array,required:!0}},setup(e){const t=R();return(a,l)=>{const n=o("el-icon"),m=o("SubMenu",!0),d=o("el-sub-menu"),_=o("el-menu-item");return s(!0),i(f,null,k(e.menuList,(e=>{var a;return s(),i(f,{key:e.path},[(null==(a=e.children)?void 0:a.length)?(s(),c(d,{key:0,index:e.path},{title:r((()=>[u(n,null,{default:r((()=>[(s(),c(g(e.meta.icon)))])),_:2},1024),p("span",De,P(e.meta.title),1)])),default:r((()=>[u(m,{menuList:e.children},null,8,["menuList"])])),_:2},1032,["index"])):(s(),c(_,{key:1,index:e.path,onClick:a=>(e=>{if(e.meta.isLink)return window.open(e.meta.isLink,"_blank");t.push(e.path)})(e)},{title:r((()=>[p("span",Ie,P(e.meta.title),1)])),default:r((()=>[u(n,null,{default:r((()=>[(s(),c(g(e.meta.icon)))])),_:2},1024)])),_:2},1032,["index","onClick"]))],64)})),128)}}}),[["__file","F:/Wrok/Me/wocwin-admin/src/layout/components/Menu/SubMenu.vue"]]);export{me as M,Re as S,We as T};
