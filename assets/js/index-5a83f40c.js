import{u as e}from"./useApi-5ac496ff.js";import{_ as t}from"./orderChart.vue_vue_type_script_setup_true_name_orderChart_lang-ca9b4ccd.js";import{_ as a}from"./userChart.vue_vue_type_script_setup_true_name_userChart_lang-3162013b.js";import{_ as l}from"./productChart.vue_vue_type_script_setup_true_name_orderChart_lang-3eeb6ac0.js";import{_ as s}from"./pageChart.vue_vue_type_script_setup_true_name_pageChart_lang-b85b048c.js";import{e as u,f as i,_ as r,o as n,P as m,Q as o,c as _,b as d,a as p,X as c,F as f,U as v}from"./@vue_runtime-core@3.2.47-c6dbaf88.js";import{r as y,u as g,i as C}from"./@vue_reactivity@3.2.47-57d9983b.js";import{s as b,O as k}from"./@vue_shared@3.2.47-177e1703.js";import"./map-d6b1e3c9.js";const h={class:"top_query"},j=d("div",{class:"left"},"选择日期",-1),N={class:"right"},x={class:"statistics"},V={class:"order_list"},R={class:"title"},$={class:"num_content"},w={class:"num"},O={class:"unit"},U={class:"visit_list"},A={class:"title"},P={class:"num_content"},S={class:"num"},X={class:"unit"},q=u({...u({name:"echarts"}),setup(u){const{proxy:q}=e(),F=y([]),I=y(null),Q=y(null),T=y("tab1"),Y=y(null),Z=y(null),z=y(null),B=y(null),D=y([{title:"支付总额/元",fieldName:"payAmount",num:0,unit:"元"},{title:"客单价",fieldName:"averageOrderValue",num:0,unit:"元"},{title:"订单总数",fieldName:"orderCount",num:0,unit:"单"},{title:"商品总销量",fieldName:"orderItemCount",num:0,unit:"件"}]),E=y([{title:"云店访问次数",fieldName:"accessCount",num:0,unit:"次"},{title:"云店访问人数",fieldName:"visitorCount",num:0,unit:"人"},{title:"下单人数",fieldName:"orderCustomerCount",num:0,unit:"人"},{title:"新用户数量",fieldName:"newCustomerCount",num:0,unit:"人"}]),G=y([{key:"tab1",title:"订单数据"},{key:"tab2",title:"用户数据"},{key:"tab3",title:"商品数据"},{key:"tab4",title:"页面数据"}]);i((()=>{K(),L()}));const H=e=>{I.value=e&&e[0],Q.value=e&&e[1]},J=e=>{T.value=e.props.name},K=async()=>{const e=await q.$api.getOrderSummary();e.success&&D.value.map((t=>{t.num=e.data[t.fieldName]}))},L=async()=>{const e=await q.$api.getVisitorSummary();e.success&&E.value.map((t=>{t.num=e.data[t.fieldName]}))};return(e,u)=>{const i=r("t-date-picker"),y=r("t-layout-page-item"),q=r("t-tabs"),I=r("t-layout-page");return n(),m(I,{class:"overview_diagram"},{default:o((()=>[_(y,null,{default:o((()=>[d("div",h,[j,d("div",N,[_(i,{type:"daterange",modelValue:g(F),"onUpdate:modelValue":u[0]||(u[0]=e=>C(F)?F.value=e:null),isPickerOptions:"",onChange:H},null,8,["modelValue"])])]),d("div",x,[d("div",V,[(n(!0),p(f,null,c(g(D),((e,t)=>(n(),p("div",{class:"order_list_item",key:t,style:b({flex:`0 1 calc((${100/g(D).length}% - 5px))`,marginRight:"5px"})},[d("div",R,k(e.title),1),d("div",$,[d("div",w,k(e.num),1),d("span",O,k(e.unit),1)])],4)))),128))]),d("div",U,[(n(!0),p(f,null,c(g(E),((e,t)=>(n(),p("div",{class:"order_list_item",key:t+"i",style:b({flex:`0 1 calc((${100/g(E).length}% - 5px))`,marginRight:"5px"})},[d("div",A,k(e.title),1),d("div",P,[d("div",S,k(e.num),1),d("span",X,k(e.unit),1)])],4)))),128))])])])),_:1}),_(y,null,{default:o((()=>[_(q,{modelValue:g(T),"onUpdate:modelValue":u[1]||(u[1]=e=>C(T)?T.value=e:null),tabs:g(G),onTabClick:J},{tab1:o((()=>["tab1"===g(T)?(n(),m(t,{key:0,ref_key:"orderChartRef",ref:Y},null,512)):v("",!0)])),tab2:o((()=>["tab2"===g(T)?(n(),m(a,{key:0,ref_key:"userRef",ref:Z},null,512)):v("",!0)])),tab3:o((()=>["tab3"===g(T)?(n(),m(l,{key:0,ref_key:"productRef",ref:z},null,512)):v("",!0)])),tab4:o((()=>["tab4"===g(T)?(n(),m(s,{key:0,ref_key:"pageRef",ref:B},null,512)):v("",!0)])),_:1},8,["modelValue","tabs"])])),_:1})])),_:1})}}});export{q as default};
