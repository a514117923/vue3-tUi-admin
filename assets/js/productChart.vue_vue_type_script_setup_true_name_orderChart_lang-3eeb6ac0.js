import{u as a}from"./useApi-5ac496ff.js";import{e as t,f as e,_ as o,o as i,a as s,b as l,c as n}from"./@vue_runtime-core@3.2.47-c6dbaf88.js";import{r,u as p}from"./@vue_reactivity@3.2.47-57d9983b.js";const d={class:"product_chart"},c={class:"product_echarts_content"},m={class:"table_content"},u=t({...t({name:"orderChart"}),setup(t){const{proxy:u}=a(),b=r({border:!0,data:[],columns:[{prop:"goodsCode",label:"商品编号",minWidth:"120"},{prop:"goodsTitle",label:"商品名称",minWidth:"220"},{prop:"retailPrice",label:"商品单价",minWidth:"140"},{prop:"salePriceAvg",label:"销售均价",minWidth:"120"},{prop:"saleCount",label:"商品销量",minWidth:"140"},{prop:"payAmount",label:"支付金额",minWidth:"160"},{prop:"ordersCount",label:"子订单数",minWidth:"160"},{prop:"customerCount",label:"购买人数",minWidth:"160"}]}),y=r({}),g=r({});e((()=>{setTimeout((()=>{h()}),1500)}));const h=async()=>{await x(),await v(),await w()},x=async()=>{const a=await u.$api.getSaleData();if(a.success){const t=a.data.dataList.map((a=>({type:"line",smooth:!0,...a,label:{normal:{show:!0,position:"top"}}}))),e=a.data.nameData,o={title:{text:a.data.title},tooltip:{trigger:"axis"},legend:{data:e},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:a.data.keyData},yAxis:{type:"value"},series:t};y.value=o}},v=async()=>{const a=await u.$api.getSaleRankingData();if(a.success){const t=a.data.dataList.map((a=>({type:"bar",...a,label:{normal:{show:!0,position:"top"}}}))),e=a.data.nameData,o={title:{text:a.data.title},tooltip:{trigger:"axis"},legend:{data:e},grid:{left:"5%",bottom:"3%",containLabel:!0},xAxis:{type:"category",data:a.data.keyData,name:a.data.xtitle,axisLabel:{interval:0,rotate:40}},yAxis:{type:"value",name:a.data.ytitle},series:t};g.value=o}},w=async()=>{const a=await u.$api.pageGoodsData();a.success&&(b.value.data=a.data)};return(a,t)=>{const e=o("t-chart"),r=o("t-table");return i(),s("div",d,[l("div",c,[n(e,{options:p(y)},null,8,["options"]),n(e,{options:p(g)},null,8,["options"])]),l("div",m,[n(r,{title:"商品详情",table:p(b),isShowPagination:!1,columns:p(b).columns},null,8,["table","columns"])])])}}});export{u as _};
