import{u as e}from"./useApi-a3664480.js";import{_ as t}from"./orderChart.vue_vue_type_script_setup_true_name_orderChart_lang-64e1e0f9.js";import{_ as a}from"./userChart.vue_vue_type_script_setup_true_name_userChart_lang-e7435616.js";import{_ as l}from"./productChart.vue_vue_type_script_setup_true_name_orderChart_lang-a116b054.js";import{_ as s}from"./pageChart.vue_vue_type_script_setup_true_name_pageChart_lang-20538bdb.js";import{e as u,f as i,Z as r,o as n,P as m,Q as o,c as _,b as d,a as p,X as c,F as f,U as v}from"./@vue_runtime-core@3.2.47-ac740756.js";import{r as y,u as g,i as C}from"./@vue_reactivity@3.2.47-31538bbf.js";import{s as b,O as h}from"./@vue_shared@3.2.47-177e1703.js";import"./map-d6b1e3c9.js";const k={class:"top_query"},N=d("div",{class:"left"},"选择日期",-1),j={class:"right"},x={class:"statistics"},V={class:"order_list"},R={class:"title"},w={class:"num_content"},O={class:"num"},$={class:"unit"},U={class:"visit_list"},A={class:"title"},I={class:"num_content"},P={class:"num"},S={class:"unit"},q=u({...u({name:"echarts"}),setup(u){const{proxy:q}=e(),F=y([]),J=y(null),K=y(null),L=y("tab1"),M=y(null),Q=y(null),T=y(null),X=y(null),Z=y([{title:"支付总额/元",fieldName:"payAmount",num:0,unit:"元"},{title:"客单价",fieldName:"averageOrderValue",num:0,unit:"元"},{title:"订单总数",fieldName:"orderCount",num:0,unit:"单"},{title:"商品总销量",fieldName:"orderItemCount",num:0,unit:"件"}]),z=y([{title:"云店访问次数",fieldName:"accessCount",num:0,unit:"次"},{title:"云店访问人数",fieldName:"visitorCount",num:0,unit:"人"},{title:"下单人数",fieldName:"orderCustomerCount",num:0,unit:"人"},{title:"新用户数量",fieldName:"newCustomerCount",num:0,unit:"人"}]),B=y([{key:"tab1",title:"订单数据"},{key:"tab2",title:"用户数据"},{key:"tab3",title:"商品数据"},{key:"tab4",title:"页面数据"}]);i((()=>{G(),H()}));const D=e=>{J.value=e&&e[0],K.value=e&&e[1]},E=e=>{L.value=e.props.name},G=async()=>{const e=await q.$api.getOrderSummary();e.success&&Z.value.map((t=>{t.num=e.data[t.fieldName]}))},H=async()=>{const e=await q.$api.getVisitorSummary();e.success&&z.value.map((t=>{t.num=e.data[t.fieldName]}))};return(e,u)=>{const i=r("t-date-picker"),y=r("t-layout-page-item"),q=r("t-tabs"),J=r("t-layout-page");return n(),m(J,{class:"overview_diagram"},{default:o((()=>[_(y,null,{default:o((()=>[d("div",k,[N,d("div",j,[_(i,{type:"daterange",modelValue:g(F),"onUpdate:modelValue":u[0]||(u[0]=e=>C(F)?F.value=e:null),isPickerOptions:"",onChange:D},null,8,["modelValue"])])]),d("div",x,[d("div",V,[(n(!0),p(f,null,c(g(Z),((e,t)=>(n(),p("div",{class:"order_list_item",key:t,style:b({flex:`0 1 calc((${100/g(Z).length}% - 5px))`,marginRight:"5px"})},[d("div",R,h(e.title),1),d("div",w,[d("div",O,h(e.num),1),d("span",$,h(e.unit),1)])],4)))),128))]),d("div",U,[(n(!0),p(f,null,c(g(z),((e,t)=>(n(),p("div",{class:"order_list_item",key:t+"i",style:b({flex:`0 1 calc((${100/g(z).length}% - 5px))`,marginRight:"5px"})},[d("div",A,h(e.title),1),d("div",I,[d("div",P,h(e.num),1),d("span",S,h(e.unit),1)])],4)))),128))])])])),_:1}),_(y,null,{default:o((()=>[_(q,{modelValue:g(L),"onUpdate:modelValue":u[1]||(u[1]=e=>C(L)?L.value=e:null),tabs:g(B),onTabClick:E},{tab1:o((()=>["tab1"===g(L)?(n(),m(t,{key:0,ref_key:"orderChartRef",ref:M},null,512)):v("",!0)])),tab2:o((()=>["tab2"===g(L)?(n(),m(a,{key:0,ref_key:"userRef",ref:Q},null,512)):v("",!0)])),tab3:o((()=>["tab3"===g(L)?(n(),m(l,{key:0,ref_key:"productRef",ref:T},null,512)):v("",!0)])),tab4:o((()=>["tab4"===g(L)?(n(),m(s,{key:0,ref_key:"pageRef",ref:X},null,512)):v("",!0)])),_:1},8,["modelValue","tabs"])])),_:1})])),_:1})}}});export{q as default};
