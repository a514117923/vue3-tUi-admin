import{u as e}from"./vue-router@4.1.6_vue@3.2.47-86cdb6f8.js";import{u as a}from"./useApi-a3664480.js";import{e as t,t as l,f as n,Z as u,o as i,P as o,Q as r,c as p,J as s}from"./@vue_runtime-core@3.2.47-ac740756.js";import{j as m,v as c,u as d}from"./@vue_reactivity@3.2.47-31538bbf.js";import"./@vue_shared@3.2.47-177e1703.js";const b=t({...t({name:"accountManage"}),setup(t){const{proxy:b}=a(),h=e(),g=e=>{h.push({path:"/system/accountManage/detail"+("child"===e?"":"1"),query:{flag:"accountManageDetail"+("child"===e?"":"1"),type:e}})},v=m({queryData:{userName:null,
// 登录名
nickName:null,
// 用户状态
workshopNum:null,phonenumber:null,date1:null,date:null},multipleList:[{name:"前纺一车间",id:"W1"},{name:"前纺二车间",id:"W2"},{name:"前纺三车间",id:"W3"},{name:"前纺四车间",id:"W4"}],table:{currentPage:1,pageSize:15,total:0,
// 接口返回数据
data:[],
// 表头数据
columns:[{prop:"userName",label:"登录名",minWidth:"120"},{prop:"nickName",label:"姓名",minWidth:"120"},{prop:"deptName",label:"部门",minWidth:"120"},{prop:"roleName",label:"角色",minWidth:"120"},{prop:"descript",label:"描述",minWidth:"180"},{prop:"createTime",label:"创建时间",minWidth:"180"}],operator:[{text:"编辑"},{text:"重置密码"},{text:"删除",fun:e=>{}}],
// 操作列样式
operatorConfig:{fixed:"right",
// 固定列表右边（left则固定在左边）
width:"160",label:"操作"}}}),y=l((()=>({userName:{label:"登录名称",comp:"el-input"},nickName:{label:"姓名",comp:"el-input"},phonenumber:{label:"手机号码",comp:"el-input"},date1:{label:"日期组件使用",comp:"t-date-picker",bind:{isPickerOptions:!0}},workshopNum:{label:"t-select使用",placeholder:"请多选",span:2,comp:"t-select",bind:{valueKey:"id",labelKey:"name",multiple:!0,optionSource:v.multipleList}},date:{label:"创建时间",comp:"t-date-picker",span:2,bind:{type:"daterange"}}}))),N=l((()=>{const{userName:e,nickName:a,date:t,date1:l,workshopNum:n,phonenumber:u}=c(v.queryData);return{userName:e.value,nickName:a.value,workshopNum:n.value,phonenumber:u.value,date1:l.value,beginDate:t.value&&t.value[0]?t.value[0]:null,endDate:t.value&&t.value[1]?t.value[1]:null,pageNum:v.table.currentPage,pageSize:v.table.pageSize}})),k=e=>{v.queryData=e,f()};n((()=>{f()}));const f=async()=>{const e=await b.$api.userList(N.value);e.success&&(v.table.data=null==e?void 0:e.data.rows,v.table.total=e.data.total)},W=e=>{v.table.pageSize=e,f()},w=e=>{v.table.currentPage=e,f()};return(e,a)=>{const t=u("el-button"),l=u("t-adaptive-page");return i(),o(l,{class:"menu_mange",title:"用户管理列表","row-key":"path",isCopy:"",table:d(v).table,columns:d(v).table.columns,opts:d(y),onSizeChange:W,onPageChange:w,onSubmit:k,height:"100%"},{toolbar:r((()=>[p(t,{type:"primary",onClick:a[0]||(a[0]=e=>g("child"))},{default:r((()=>[s("子级详情页面")])),_:1}),p(t,{type:"primary",onClick:a[1]||(a[1]=e=>g("peer"))},{default:r((()=>[s("同级详情页面")])),_:1})])),_:1},8,["table","columns","opts"])}}});export{b as default};
