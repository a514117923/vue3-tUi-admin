import{u as e}from"./useApi-a3664480.js";import{_ as t}from"./orderChart.vue_vue_type_script_setup_true_name_orderChart_lang-64e1e0f9.js";import{_ as a}from"./userChart.vue_vue_type_script_setup_true_name_userChart_lang-37a3ff31.js";import{_ as s}from"./productChart.vue_vue_type_script_setup_true_name_orderChart_lang-a116b054.js";import{_ as l}from"./pageChart.vue_vue_type_script_setup_true_name_pageChart_lang-1720bbe2.js";import{e as u,f as i,Z as r,o as n,P as m,Q as o,c as _,b as d,a as c,X as p,F as f}from"./@vue_runtime-core@3.2.47-ac740756.js";import{r as v,u as y,i as g}from"./@vue_reactivity@3.2.47-31538bbf.js";import{s as C,O as h}from"./@vue_shared@3.2.47-177e1703.js";import"./map-d6b1e3c9.js";const b={class:"top_query"},k=d("div",{class:"left"},"选择日期",-1),N={class:"right"},j={class:"statistics"},x={class:"order_list"},R={class:"title"},V={class:"num_content"},w={class:"num"},O={class:"unit"},$={class:"visit_list"},A={class:"title"},I={class:"num_content"},P={class:"num"},S={class:"unit"},q=u({...u({name:"echarts"}),setup(u){const{proxy:q}=e(),F=v([]),J=v(null),K=v(null),L=v("tab1"),M=v(null),Q=v(null),T=v(null),U=v(null),X=v([{title:"支付总额/元",fieldName:"payAmount",num:0,unit:"元"},{title:"客单价",fieldName:"averageOrderValue",num:0,unit:"元"},{title:"订单总数",fieldName:"orderCount",num:0,unit:"单"},{title:"商品总销量",fieldName:"orderItemCount",num:0,unit:"件"}]),Z=v([{title:"云店访问次数",fieldName:"accessCount",num:0,unit:"次"},{title:"云店访问人数",fieldName:"visitorCount",num:0,unit:"人"},{title:"下单人数",fieldName:"orderCustomerCount",num:0,unit:"人"},{title:"新用户数量",fieldName:"newCustomerCount",num:0,unit:"人"}]),z=v([{key:"tab1",title:"订单数据"},{key:"tab2",title:"用户数据"},{key:"tab3",title:"商品数据"},{key:"tab4",title:"页面数据"}]);i((()=>{E(),G()}));const B=e=>{J.value=e&&e[0],K.value=e&&e[1]},D=e=>{L.value=e.props.name},E=async()=>{const e=await q.$api.getOrderSummary();e.success&&X.value.map((t=>{t.num=e.data[t.fieldName]}))},G=async()=>{const e=await q.$api.getVisitorSummary();e.success&&Z.value.map((t=>{t.num=e.data[t.fieldName]}))};return(e,u)=>{const i=r("t-date-picker"),v=r("t-layout-page-item"),q=r("t-tabs"),J=r("t-layout-page");return n(),m(J,{class:"overview_diagram"},{default:o((()=>[_(v,null,{default:o((()=>[d("div",b,[k,d("div",N,[_(i,{type:"daterange",modelValue:y(F),"onUpdate:modelValue":u[0]||(u[0]=e=>g(F)?F.value=e:null),isPickerOptions:"",onChange:B},null,8,["modelValue"])])]),d("div",j,[d("div",x,[(n(!0),c(f,null,p(y(X),((e,t)=>(n(),c("div",{class:"order_list_item",key:t,style:C({flex:`0 1 calc((${100/y(X).length}% - 5px))`,marginRight:"5px"})},[d("div",R,h(e.title),1),d("div",V,[d("div",w,h(e.num),1),d("span",O,h(e.unit),1)])],4)))),128))]),d("div",$,[(n(!0),c(f,null,p(y(Z),((e,t)=>(n(),c("div",{class:"order_list_item",key:t,style:C({flex:`0 1 calc((${100/y(Z).length}% - 5px))`,marginRight:"5px"})},[d("div",A,h(e.title),1),d("div",I,[d("div",P,h(e.num),1),d("span",S,h(e.unit),1)])],4)))),128))])])])),_:1}),_(v,null,{default:o((()=>[_(q,{tabs:y(z),onTabClick:D},{tab1:o((()=>[_(t,{ref_key:"orderChartRef",ref:M},null,512)])),tab2:o((()=>[_(a,{ref_key:"userRef",ref:Q},null,512)])),tab3:o((()=>[_(s,{ref_key:"productRef",ref:T},null,512)])),tab4:o((()=>[_(l,{ref_key:"pageRef",ref:U},null,512)])),_:1},8,["tabs"])])),_:1})])),_:1})}}});export{q as default};
