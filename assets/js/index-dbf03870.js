import{u as e}from"./vue-router@4.1.6_vue@3.2.47-86cdb6f8.js";import{u as a}from"./useApi-a3664480.js";import{e as t,t as l,f as n,Z as o,o as u,P as i,Q as r,b as p,c as s,J as m}from"./@vue_runtime-core@3.2.47-ac740756.js";import{j as c,v as d,u as b}from"./@vue_reactivity@3.2.47-31538bbf.js";import{O as h}from"./@vue_shared@3.2.47-177e1703.js";const v=t({...t({name:"accountManage"}),setup(t){const{proxy:v}=a(),g=e(),N=e=>{g.push({path:"/system/accountManage/detail"+("child"===e?"":"1"),query:{flag:"accountManageDetail"+("child"===e?"":"1"),type:e}})},k=c({queryData:{userName:null,
// 登录名
nickName:null,
// 用户状态
workshopNum:null,phonenumber:null,date1:null,date:null},multipleList:[{name:"前纺一车间",id:"W1"},{name:"前纺二车间",id:"W2"},{name:"前纺三车间",id:"W3"},{name:"前纺四车间",id:"W4"}],table:{currentPage:1,pageSize:15,total:0,
// 接口返回数据
data:[],
// 表头数据
columns:[{prop:"userName",label:"登录名",minWidth:"120"},{prop:"nickName",label:"插槽使用",minWidth:"120",slotName:"nickName"},{prop:"deptName",label:"部门",minWidth:"120"},{prop:"roleName",label:"角色",minWidth:"120"},{prop:"descript",label:"描述",minWidth:"180"},{prop:"createTime",label:"创建时间",minWidth:"180"}],operator:[{text:"编辑"},{text:"重置密码"},{text:"删除",fun:e=>{}}],
// 操作列样式
operatorConfig:{fixed:"right",
// 固定列表右边（left则固定在左边）
width:"160",label:"操作"}}}),y=l((()=>({userName:{label:"登录名称",comp:"el-input"},nickName:{label:"姓名",comp:"el-input"},phonenumber:{label:"手机号码",comp:"el-input"},date1:{label:"日期组件使用",comp:"t-date-picker",bind:{isPickerOptions:!0}},workshopNum:{label:"t-select使用",placeholder:"请多选",span:2,comp:"t-select",bind:{valueKey:"id",labelKey:"name",multiple:!0,optionSource:k.multipleList}},date:{label:"创建时间",comp:"t-date-picker",span:2,bind:{type:"daterange"}}}))),f=l((()=>{const{userName:e,nickName:a,date:t,date1:l,workshopNum:n,phonenumber:o}=d(k.queryData);return{userName:e.value,nickName:a.value,workshopNum:n.value,phonenumber:o.value,date1:l.value,beginDate:t.value&&t.value[0]?t.value[0]:null,endDate:t.value&&t.value[1]?t.value[1]:null,pageNum:k.table.currentPage,pageSize:k.table.pageSize}})),W=e=>{k.queryData=e,w()};n((()=>{w()}));const w=async()=>{const e=await v.$api.userList(f.value);e.success&&(k.table.data=null==e?void 0:e.data.rows,k.table.total=e.data.total)},_=e=>{k.table.pageSize=e,w()},j=e=>{k.table.currentPage=e,w()};return(e,a)=>{const t=o("el-button"),l=o("t-adaptive-page");return u(),i(l,{class:"menu_mange","row-key":"path",isCopy:"",table:b(k).table,columns:b(k).table.columns,opts:b(y),onSizeChange:_,onPageChange:j,onSubmit:W,title:"用户管理列表"},{nickName:r((({scope:e})=>[p("div",null,h(e.row.nickName),1)])),toolbar:r((()=>[s(t,{type:"primary",onClick:a[0]||(a[0]=e=>N("child"))},{default:r((()=>[m("子级详情页面")])),_:1}),s(t,{type:"primary",onClick:a[1]||(a[1]=e=>N("peer"))},{default:r((()=>[m("同级详情页面")])),_:1})])),_:1},8,["table","columns","opts"])}}});export{v as default};
