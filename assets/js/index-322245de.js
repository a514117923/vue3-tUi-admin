import{u as e}from"./vue-router@4.1.6_vue@3.2.47-86cdb6f8.js";import{e as a,t,f as l,g as n,Z as o,o as u,P as i,Q as r,c as p,J as s}from"./@vue_runtime-core@3.2.47-ac740756.js";import{j as m,v as c,u as d}from"./@vue_reactivity@3.2.47-31538bbf.js";import"./@vue_shared@3.2.47-177e1703.js";const b=a({...a({name:"accountManage"}),setup(a){const b=e(),h=e=>{b.push({path:"/system/accountManage/detail"+("child"===e?"":"1"),query:{flag:"accountManageDetail"+("child"===e?"":"1"),type:e}})},g=m({queryData:{userName:null,
// 登录名
nickName:null,
// 用户状态
workshopNum:null,phonenumber:null,date1:null,date:null},multipleList:[{name:"前纺一车间",id:"W1"},{name:"前纺二车间",id:"W2"},{name:"前纺三车间",id:"W3"},{name:"前纺四车间",id:"W4"}],table:{currentPage:1,pageSize:15,total:0,
// 接口返回数据
data:[],
// 表头数据
columns:[{prop:"userName",label:"登录名",minWidth:"120"},{prop:"nickName",label:"姓名",minWidth:"120"},{prop:"deptName",label:"部门",minWidth:"120"},{prop:"roleName",label:"角色",minWidth:"120"},{prop:"descript",label:"描述",minWidth:"180"},{prop:"createTime",label:"创建时间",minWidth:"180"}],operator:[{text:"编辑"},{text:"重置密码"},{text:"删除",fun:e=>{}}],
// 操作列样式
operatorConfig:{fixed:"right",
// 固定列表右边（left则固定在左边）
width:"160",label:"操作"}}}),v=t((()=>({userName:{label:"登录名称",comp:"el-input"},nickName:{label:"姓名",comp:"el-input"},phonenumber:{label:"手机号码",comp:"el-input"},date1:{label:"日期组件使用",comp:"t-date-picker",bind:{isPickerOptions:!0}},workshopNum:{label:"t-select使用",placeholder:"请多选",span:2,comp:"t-select",bind:{valueKey:"id",labelKey:"name",multiple:!0,optionSource:g.multipleList}},date:{label:"创建时间",comp:"t-date-picker",span:2,bind:{type:"daterange"}}}))),y=t((()=>{const{userName:e,nickName:a,date:t,date1:l,workshopNum:n,phonenumber:o}=c(g.queryData);return{userName:e.value,nickName:a.value,workshopNum:n.value,phonenumber:o.value,date1:l.value,beginDate:t.value&&t.value[0]?t.value[0]:null,endDate:t.value&&t.value[1]?t.value[1]:null,pageNum:g.table.currentPage,pageSize:g.table.pageSize}})),N=e=>{g.queryData=e,W()};l((()=>{W()}));const{appContext:k}=n(),f=k.config.globalProperties,W=async()=>{const e=await f.$api.userList(y.value);e.success&&(g.table.data=null==e?void 0:e.data.rows,g.table.total=e.data.total)},w=e=>{g.table.pageSize=e,W()},_=e=>{g.table.currentPage=e,W()};return(e,a)=>{const t=o("el-button"),l=o("t-adaptive-page");return u(),i(l,{class:"menu_mange",title:"用户管理列表","row-key":"path",isCopy:"",table:d(g).table,columns:d(g).table.columns,opts:d(v),onSizeChange:w,onPageChange:_,onSubmit:N,height:"100%"},{toolbar:r((()=>[p(t,{type:"primary",onClick:a[0]||(a[0]=e=>h("child"))},{default:r((()=>[s("子级详情页面")])),_:1}),p(t,{type:"primary",onClick:a[1]||(a[1]=e=>h("peer"))},{default:r((()=>[s("同级详情页面")])),_:1})])),_:1},8,["table","columns","opts"])}}});export{b as default};
