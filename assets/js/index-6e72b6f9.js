import{u as e}from"./useApi-a3664480.js";import{_ as t}from"./orderChart.vue_vue_type_script_setup_true_name_orderChart_lang-8d1e7dd9.js";import{_ as a}from"./userChart.vue_vue_type_script_setup_true_name_userChart_lang-e7435616.js";import{_ as l}from"./productChart.vue_vue_type_script_setup_true_name_orderChart_lang-a116b054.js";import{_ as s}from"./pageChart.vue_vue_type_script_setup_true_name_pageChart_lang-20538bdb.js";import{e as u,f as i,Z as r,o as n,P as m,Q as o,c as _,b as d,a as p,X as c,F as f,U as v}from"./@vue_runtime-core@3.2.47-ac740756.js";import{r as y,u as g,i as C}from"./@vue_reactivity@3.2.47-31538bbf.js";import{s as b,O as h}from"./@vue_shared@3.2.47-177e1703.js";import"./map-d6b1e3c9.js";const k={class:"top_query"},j=d("div",{class:"left"},"选择日期",-1),N={class:"right"},V={class:"statistics"},x={class:"order_list"},R={class:"title"},w={class:"num_content"},O={class:"num"},U={class:"unit"},$={class:"visit_list"},A={class:"title"},P={class:"num_content"},S={class:"num"},X={class:"unit"},Z=u({...u({name:"echarts"}),setup(u){const{proxy:Z}=e(),q=y([]),F=y(null),I=y(null),Q=y("tab1"),T=y(null),W=y(null),Y=y(null),z=y(null),B=y([{title:"支付总额/元",fieldName:"payAmount",num:0,unit:"元"},{title:"客单价",fieldName:"averageOrderValue",num:0,unit:"元"},{title:"订单总数",fieldName:"orderCount",num:0,unit:"单"},{title:"商品总销量",fieldName:"orderItemCount",num:0,unit:"件"}]),D=y([{title:"云店访问次数",fieldName:"accessCount",num:0,unit:"次"},{title:"云店访问人数",fieldName:"visitorCount",num:0,unit:"人"},{title:"下单人数",fieldName:"orderCustomerCount",num:0,unit:"人"},{title:"新用户数量",fieldName:"newCustomerCount",num:0,unit:"人"}]),E=y([{key:"tab1",title:"订单数据"},{key:"tab2",title:"用户数据"},{key:"tab3",title:"商品数据"},{key:"tab4",title:"页面数据"}]);i((()=>{J(),K()}));const G=e=>{F.value=e&&e[0],I.value=e&&e[1]},H=e=>{Q.value=e.props.name},J=async()=>{const e=await Z.$api.getOrderSummary();e.success&&B.value.map((t=>{t.num=e.data[t.fieldName]}))},K=async()=>{const e=await Z.$api.getVisitorSummary();e.success&&D.value.map((t=>{t.num=e.data[t.fieldName]}))};return(e,u)=>{const i=r("t-date-picker"),y=r("t-layout-page-item"),Z=r("t-tabs"),F=r("t-layout-page");return n(),m(F,{class:"overview_diagram"},{default:o((()=>[_(y,null,{default:o((()=>[d("div",k,[j,d("div",N,[_(i,{type:"daterange",modelValue:g(q),"onUpdate:modelValue":u[0]||(u[0]=e=>C(q)?q.value=e:null),isPickerOptions:"",onChange:G},null,8,["modelValue"])])]),d("div",V,[d("div",x,[(n(!0),p(f,null,c(g(B),((e,t)=>(n(),p("div",{class:"order_list_item",key:t,style:b({flex:`0 1 calc((${100/g(B).length}% - 5px))`,marginRight:"5px"})},[d("div",R,h(e.title),1),d("div",w,[d("div",O,h(e.num),1),d("span",U,h(e.unit),1)])],4)))),128))]),d("div",$,[(n(!0),p(f,null,c(g(D),((e,t)=>(n(),p("div",{class:"order_list_item",key:t+"i",style:b({flex:`0 1 calc((${100/g(D).length}% - 5px))`,marginRight:"5px"})},[d("div",A,h(e.title),1),d("div",P,[d("div",S,h(e.num),1),d("span",X,h(e.unit),1)])],4)))),128))])])])),_:1}),_(y,null,{default:o((()=>[_(Z,{modelValue:g(Q),"onUpdate:modelValue":u[1]||(u[1]=e=>C(Q)?Q.value=e:null),tabs:g(E),onTabClick:H},{tab1:o((()=>["tab1"===g(Q)?(n(),m(t,{key:0,ref_key:"orderChartRef",ref:T},null,512)):v("",!0)])),tab2:o((()=>["tab2"===g(Q)?(n(),m(a,{key:0,ref_key:"userRef",ref:W},null,512)):v("",!0)])),tab3:o((()=>["tab3"===g(Q)?(n(),m(l,{key:0,ref_key:"productRef",ref:Y},null,512)):v("",!0)])),tab4:o((()=>["tab4"===g(Q)?(n(),m(s,{key:0,ref_key:"pageRef",ref:z},null,512)):v("",!0)])),_:1},8,["modelValue","tabs"])])),_:1})])),_:1})}}});export{Z as default};
